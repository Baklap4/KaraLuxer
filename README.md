# KaraLuxer

A python script to port songs from [Karaoke Mugen](https://karaokes.moe/en/) to the
[Ultrastar](https://github.com/UltraStar-Deluxe/USDX) file format for use with. To perform the inverse use
[ultrastar2ass](https://github.com/AxelTerizaki/ultrastar2ass).

As Karaoke Mugen does not feature pitch mapping, only timings will be generated by the script. Pitches can be
automatically generated from the mapped file using [Ultrastar Pitch](https://github.com/paradigmn/ultrastar_pitch)
(Accuracy will vary per map).

## How to run

### Manual

To run the script you will need Python 3.

Required packages for the script can be installed using `pip install -r requirements.txt`. FFMPEG must be present on the
system for the script to work. You can either place a FFMPEG binary in a subfolder named `tools` or have it accessible
on your PATH.

The script can be used from the command line via `karaluxer.py` or with a GUI via `kl_gui.py`.

### Compiled Executable

Compiled executables can be found on the [releases](https://github.com/WarwickAnimeSoc/KaraLuxer/releases) page. The
executables only include the GUI.

## Compiling using pyinstaller

To compile the GUI version of the program run `pyinstaller kl_gui.spec`. To compile correctly,
a FFMPEG binary must be placed in the `tools` subfolder, as well as `pitchnet_2020_12_14.onnx` which can be found on the
[Ultrastar Pitch Repo](https://github.com/paradigmn/ultrastar_pitch/tree/master/ultrastar_pitch/binaries)

## TODO

- KaraLuxer
  - Duet support
  - Better cleanup/handling of downloaded files from Kara.moe
